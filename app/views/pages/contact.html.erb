<!-- Page Header -->
<section class="bg-charcoal-800 py-12 sm:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-white mb-4">Get in Touch</h1>
        <p class="text-lg sm:text-xl text-charcoal-200 max-w-3xl">
            Whether you have a specific project in mind or just want to explore your options, I'm happy to chat. No pitch, no pressure.
        </p>
    </div>
</section>

<!-- Contact Options -->
<section class="py-12 sm:py-16 bg-charcoal-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
            <!-- Schedule a Call -->
            <div id="schedule" class="bg-charcoal-800 border border-charcoal-700 p-6 sm:p-8 rounded-lg">
                <div class="mb-6">
                    <h2 class="text-xl sm:text-2xl font-bold text-white mb-2">Schedule a Call</h2>
                    <p class="text-charcoal-300 text-sm sm:text-base">
                        Book a time that works for you. We'll have an honest conversation about your challenges and whether I can help.
                    </p>
                </div>

                <!-- Cal.com Embed -->
                <div id="cal-embed" style="min-height: 500px; overflow: auto;"></div>
            </div>

            <!-- Send a Message -->
            <div id="message" class="bg-charcoal-800 border border-charcoal-700 p-6 sm:p-8 rounded-lg" data-controller="contact-form">
                <div class="mb-6">
                    <h2 class="text-xl sm:text-2xl font-bold text-white mb-2">Send a Message</h2>
                    <p class="text-charcoal-300 text-sm sm:text-base">
                        Prefer to write? Send me a message and I'll get back to you within a couple of working days.
                    </p>
                </div>

                <!-- Formspree Form -->
                <form action="https://formspree.io/f/xvzzdyed" method="POST" class="space-y-4 sm:space-y-6" data-contact-form-target="form" data-action="submit->contact-form#submit">
                    <div>
                        <label for="name" class="block text-sm font-medium text-charcoal-200 mb-2">Name</label>
                        <input type="text" name="name" id="name" required
                               class="w-full px-4 py-3 bg-charcoal-700 border border-charcoal-600 rounded-md text-white placeholder-charcoal-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent">
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-medium text-charcoal-200 mb-2">Email</label>
                        <input type="email" name="email" id="email" required
                               class="w-full px-4 py-3 bg-charcoal-700 border border-charcoal-600 rounded-md text-white placeholder-charcoal-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent">
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-charcoal-200 mb-2">Message</label>
                        <textarea name="message" id="message" rows="5" required
                                  class="w-full px-4 py-3 bg-charcoal-700 border border-charcoal-600 rounded-md text-white placeholder-charcoal-400 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent resize-none"></textarea>
                    </div>

                    <button type="submit" data-contact-form-target="submit"
                            class="w-full bg-accent-600 text-white px-6 py-3 rounded-md text-base font-medium hover:bg-accent-700 transition-colors">
                        Send Message
                    </button>
                </form>

                <!-- Success Message -->
                <div data-contact-form-target="success" class="hidden text-center py-8">
                    <div class="text-accent-500 mb-4">
                        <i class="fa-solid fa-circle-check text-5xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Message Sent</h3>
                    <p class="text-charcoal-300">Thanks for reaching out. I'll get back to you within a couple of working days.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Cal.com Script -->
<script type="text/javascript">
  (function (C, A, L) { let p = function (a, ar) { a.q.push(ar); }; let d = C.document; C.Cal = C.Cal || function () { let cal = C.Cal; let ar = arguments; if (!cal.loaded) { cal.ns = {}; cal.q = cal.q || []; d.head.appendChild(d.createElement("script")).src = A; cal.loaded = true; } if (ar[0] === L) { const api = function () { p(api, arguments); }; const namespace = ar[1]; api.q = api.q || []; typeof namespace === "string" ? (cal.ns[namespace] = api) && p(api, ar) : p(cal, ar); return; } p(cal, ar); }; })(window, "https://app.cal.com/embed/embed.js", "init");
  Cal("init", {origin:"https://cal.com"});
  Cal("inline", {
    elementOrSelector: "#cal-embed",
    calLink: "harry-boyes-xh2xgr/30min",
    config: {
      theme: "dark"
    }
  });
</script>

<%= render "pages/cta" %>
